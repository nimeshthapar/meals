"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[357],{357:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(861),s=r(885),a=r(757),i=r.n(a),c=r(791),o=r(520),u=r(413),l=r(913),d=r(957),f=r(184),h=c.forwardRef((function(e,n){return(0,f.jsx)("div",{children:(0,f.jsx)("form",{onSubmit:e.onSubmit,children:(0,f.jsxs)("div",{className:"menu-form__div",children:[(0,f.jsx)("input",{type:"number",step:"1",max:"5",min:"1",defaultValue:e.default||"1",ref:n}),!e.cart&&(0,f.jsx)(d.Z,{title:"Add",type:"submit"})]})})})})),m=function(e){var n=(0,c.useContext)(l.A),r=c.createRef();return(0,f.jsxs)("div",{className:"menu-meal__item",children:[(0,f.jsx)("h4",{children:e.name}),(0,f.jsx)("p",{children:(0,f.jsxs)("em",{children:['"',e.description,'"']})}),(0,f.jsxs)("span",{children:["\u20b9 ",e.price]}),(0,f.jsx)(h,{onSubmit:function(t){t.preventDefault(),n.addToCart((0,u.Z)((0,u.Z)({},e),{},{description:void 0,quantity:+r.current.value}))},ref:r})]})},x=function(e){return(0,f.jsx)("div",{children:e.meals.map((function(e){return(0,f.jsx)(m,{id:e._id,name:e.name,price:e.price,description:e.description},e._id)}))})},p=r(172),v=function(e){var n=(0,c.useState)(""),r=(0,s.Z)(n,2),t=r[0],a=r[1];return(0,f.jsx)(o.Z,{className:"menu-card",children:e.menu.map((function(e){return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"menu-item",onClick:function(){if(t===e._id)return a("");a(e._id)},children:[(0,f.jsx)("h3",{className:"menu-heading",children:e.name}),(0,f.jsx)(p.Z,{})]}),t===e._id&&(0,f.jsx)(x,{meals:e.meals,id:e._id})]},e._id)}))})},j=function(){return(0,f.jsx)("div",{className:"quote",children:(0,f.jsxs)("div",{className:"quote-container",children:[(0,f.jsx)("p",{children:(0,f.jsx)("i",{children:"\u201cIf you really want to make a friend, go and eat with him\u2026 The people who give you their food give you their heart.\u201d"})}),(0,f.jsx)("span",{children:"\u2013 Cesar Chavez"})]})})},Z=r(660),b=r(250),C=function(){var e=(0,c.useState)([]),n=(0,s.Z)(e,2),r=n[0],a=n[1],o=(0,b.Z)(),u=o.isLoading,l=o.error,d=o.sendRequest,h=o.clearError;return(0,c.useEffect)((function(){var e=function(){var e=(0,t.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("".concat("https://mern-meal.herokuapp.com/api","/menu"));case 3:n=e.sent,a(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[d]),(0,f.jsxs)(f.Fragment,{children:[l&&(0,f.jsx)(Z.Z,{error:l,onClose:h}),(0,f.jsx)(j,{}),u&&(0,f.jsx)("p",{className:"loading",children:"Loading..."}),!u&&(0,f.jsx)(v,{menu:r})]})}},957:function(e,n,r){r.d(n,{Z:function(){return s}});r(791);var t=r(184),s=function(e){return(0,t.jsx)("button",{type:e.type||"button",onClick:e.onClick,className:e.disabled?"disabled":e.inverse?"button inverse":"button",children:e.title})}},520:function(e,n,r){r.d(n,{Z:function(){return s}});r(791);var t=r(184),s=function(e){return(0,t.jsx)("div",{className:"card ".concat(e.className," "),children:e.children})}},660:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(413),s=(r(791),r(164)),a=r(80),i=r(957),c=r(520),o=r(184),u=function(e){var n=(0,o.jsx)("div",{className:"overlay",children:(0,o.jsxs)(c.Z,{className:"modal-card",children:[(0,o.jsx)("header",{className:"modal-header ".concat(e.headerClass),children:(0,o.jsx)("h3",{children:"Oops !!\ud83d\ude22"})}),(0,o.jsx)("main",{className:"main ".concat(e.mainClass),children:e.error}),(0,o.jsx)("footer",{className:"footer ".concat(e.footerClass),children:(0,o.jsx)(i.Z,{title:"Close",onClick:e.onClose})})]})});return s.createPortal(n,document.getElementById("overlay-root"))},l=function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Z,{onClose:e.onClose}),(0,o.jsx)(u,(0,t.Z)({},e))]})}},250:function(e,n,r){var t=r(861),s=r(885),a=r(757),i=r.n(a),c=r(791);n.Z=function(){var e=(0,c.useState)(!1),n=(0,s.Z)(e,2),r=n[0],a=n[1],o=(0,c.useState)(null),u=(0,s.Z)(o,2),l=u[0],d=u[1],f=(0,c.useRef)([]),h=(0,c.useCallback)(function(){var e=(0,t.Z)(i().mark((function e(n){var r,t,s,c,o,u,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",t=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{},a(!0),c=new AbortController,f.current.push(c),e.prev=6,e.next=9,fetch(n,{method:r,body:t,headers:s,signal:c.signal});case 9:return o=e.sent,e.next=12,o.json();case 12:if(u=e.sent,f.current=f.current.filter((function(e){return e!==c})),o.ok){e.next=16;break}throw new Error(u.message);case 16:return a(!1),e.abrupt("return",u);case 20:throw e.prev=20,e.t0=e.catch(6),d(e.t0.message),a(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(n){return e.apply(this,arguments)}}(),[]);return(0,c.useEffect)((function(){return function(){f.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:r,error:l,sendRequest:h,clearError:function(e){d(null)}}}}}]);
//# sourceMappingURL=357.050caeea.chunk.js.map